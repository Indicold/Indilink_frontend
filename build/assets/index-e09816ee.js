import{r as b,ac as v,j as s,ae as C,ai as P,ag as F}from"./index-5844006b.js";import{c as k,a as n,h as S,F as y,d as N,e as R,f as i,g as l,B as c}from"./index.esm-1de59bdb.js";import{u as I,A as _}from"./useTimeOutMessage-26136aba.js";import{P as d}from"./PasswordInput-cce7ac11.js";import{A}from"./ActionLink-bc4dac0b.js";/* empty css                      */import"./Views-d4e96890.js";import"./isNil-a0467d53.js";import"./index.esm-7bfd96a9.js";import"./CloseButton-c57fedcd.js";const B=k().shape({password:n().required("Please enter your password"),confirm_password:n().oneOf([S("password")],"Your passwords do not match")}),M=m=>{const{disableSubmit:p=!1,className:u,signInUrl:f="/sign-in"}=m,[o,$]=b.useState(!1),[r,Y]=I(),w=v(),h=localStorage.getItem("email"),x=async(a,e)=>{e(!0),P({...a,email:h},j)},g=()=>{w("/sign-in")},j=a=>{F.success(a,{position:"top-right",autoClose:3e3,hideProgressBar:!1,closeOnClick:!0,pauseOnHover:!0,draggable:!0,progress:void 0,style:{background:"#6aa5fc",color:"#fff"}})};return s.jsxs("div",{className:u,children:[s.jsx(C,{}),s.jsx("div",{className:"mb-6",children:o?s.jsxs(s.Fragment,{children:[s.jsx("h3",{className:"mb-1",children:"Reset done"}),s.jsx("p",{children:"Your password has been successfully reset"})]}):s.jsxs(s.Fragment,{children:[s.jsx("h3",{className:"mb-1",children:"Set new password"}),s.jsx("p",{children:"Your new password must different to previos password"})]})}),r&&s.jsx(_,{showIcon:!0,className:"mb-4",type:"danger",children:r}),s.jsx(y,{initialValues:{password:null,confirm_password:null},validationSchema:B,onSubmit:(a,{setSubmitting:e})=>{p?e(!1):x(a,e)},children:({touched:a,errors:e,isSubmitting:t})=>s.jsx(N,{children:s.jsxs(R,{children:[o?s.jsx(c,{block:!0,variant:"solid",type:"button",onClick:g,children:"Continue"}):s.jsxs(s.Fragment,{children:[s.jsx(i,{label:"Password",invalid:e.password&&a.password,errorMessage:e.password,children:s.jsx(l,{autoComplete:"off",name:"password",placeholder:"Password",component:d})}),s.jsx(i,{label:"Confirm Password",invalid:e.confirm_password&&a.confirm_password,errorMessage:e.confirm_password,children:s.jsx(l,{autoComplete:"off",name:"confirm_password",placeholder:"Confirm Password",component:d})}),s.jsx(c,{block:!0,loading:t,variant:"solid",type:"submit",children:t?"Submiting...":"Submit"})]}),s.jsxs("div",{className:"mt-4 text-center",children:[s.jsx("span",{children:"Back to "}),s.jsx(A,{to:f,children:"Sign in"})]})]})})})]})},O=()=>s.jsx(M,{disableSubmit:!1}),G=O;export{G as default};
