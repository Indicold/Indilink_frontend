import{r as f,j as e,ae as j,ah as g,ag as y}from"./index-5844006b.js";import{c as v,a as b,F as O,d as S,e as F,f as t,g as l,I as n,B as k}from"./index.esm-1de59bdb.js";import{u as P,A as E}from"./useTimeOutMessage-26136aba.js";import{A as I}from"./ActionLink-bc4dac0b.js";/* empty css                      */import"./Views-d4e96890.js";import"./isNil-a0467d53.js";import"./index.esm-7bfd96a9.js";import"./CloseButton-c57fedcd.js";const N=v().shape({email:b().required("Please enter your email")}),V=o=>{const{disableSubmit:m=!1,className:c,signInUrl:d="/sign-in"}=o,[i,T]=f.useState(!1),[r,M]=P(),p=localStorage.getItem("email"),u=(a,s)=>{s(!0),g(a,h)},h=a=>{y.success(a,{position:"top-right",autoClose:3e3,hideProgressBar:!1,closeOnClick:!0,pauseOnHover:!0,draggable:!0,progress:void 0,style:{background:"#6aa5fc",color:"#fff"}})};return e.jsxs("div",{className:c,children:[e.jsx(j,{}),e.jsx("div",{className:"mb-6",children:i?e.jsxs(e.Fragment,{children:[e.jsx("h3",{className:"mb-1",children:"Check your email"}),e.jsx("p",{children:"We have sent a password recovery instruction to your email"})]}):e.jsxs(e.Fragment,{children:[e.jsx("h3",{className:"mb-1",children:"Verify OTP"}),e.jsx("p",{children:"Please enter your verification code"})]})}),r&&e.jsx(E,{showIcon:!0,className:"mb-4",type:"danger",children:r}),e.jsx(O,{initialValues:{email:p||null,OTP:null},validationSchema:N,onSubmit:(a,{setSubmitting:s})=>{m?s(!1):u(a,s)},children:({touched:a,errors:s,isSubmitting:x})=>e.jsx(S,{children:e.jsxs(F,{children:[e.jsxs("div",{className:i?"hidden":"",children:[e.jsx(t,{invalid:s.email&&a.email,errorMessage:s.email,children:e.jsx(l,{type:"email",autoComplete:"off",name:"email",placeholder:"Email",component:n})}),e.jsx(t,{invalid:s.email&&a.email,errorMessage:s.email,children:e.jsx(l,{type:"text",autoComplete:"off",name:"OTP",placeholder:"Enter Your OTP",component:n})})]}),e.jsx(k,{block:!0,loading:x,variant:"solid",type:"submit",children:i?"Resend Email":"Send Email"}),e.jsxs("div",{className:"mt-4 text-center",children:[e.jsx("span",{children:"Back to "}),e.jsx(I,{to:d,children:"Sign in"})]})]})})})]})},C=()=>e.jsx(V,{disableSubmit:!1}),U=C;export{U as default};
